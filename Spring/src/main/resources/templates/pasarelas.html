<!DOCTYPE html>	
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  	<link rel="stylesheet" href="css/estilo.css">
  	<link rel="stylesheet" href="css/pasarelas.css">
    <title th:text="${titulo}"></title>
</head>
<body>
	<section th:replace="fragments/header :: header"></section>
		<div class='container'>
		<div class='window'>
			 
			<div class='order-info'>
				
			</div>
			
			<div class='credit-info'>
				<div class='credit-info-content'>
					<table class='half-input-table'>
						<tr>
							<td>Por favor, seleccione qué tarjeta usar:</td>
							<td><div class='dropdown' id='card-dropdown'>
									<div class='dropdown-btn' id='current-card'>Visa</div>
									<div class='dropdown-select'>
										<ul>
											<li>MasterCard</li>
											<li>American Express</li>
										</ul>
									</div>
								</div></td>
						</tr>
					</table>
					<img
						src='https://dl.dropboxusercontent.com/s/ubamyu6mzov5c80/visa_logo%20%281%29.png'
						height='80' class='credit-card-image' id='credit-card-image'></img>
					Número de la tarjeta: <input class='input-field'></input> Titular de la tarjeta: <input
						class='input-field'></input>
					<table class='half-input-table'>
						<tr>
							<td>Expira en: <input class='input-field'></input>
							</td>
							<td>CVC: <input class='input-field'></input>
							</td>
						</tr>
					</table>
					<button class='pay-btn'>Verificar</button>

				</div>

			</div>
		</div>
	</div>
	
	<section th:replace="fragments/footer :: footer"></section>
	<script type="text/javascript">
		var cardDrop = document.getElementById('card-dropdown');
		var activeDropdown;
		cardDrop.addEventListener('click', function() {
			var node;
			for (var i = 0; i < this.childNodes.length - 1; i++)
				node = this.childNodes[i];
			if (node.className === 'dropdown-select') {
				node.classList.add('visible');
				activeDropdown = node;
			}
			;
		})

		window.onclick = function(e) {
			console.log(e.target.tagName)
			console.log('dropdown');
			console.log(activeDropdown)
			if (e.target.tagName === 'LI' && activeDropdown) {
				if (e.target.innerHTML === 'Master Card') {
					document.getElementById('credit-card-image').src = 'https://dl.dropboxusercontent.com/s/2vbqk5lcpi7hjoc/MasterCard_Logo.svg.png';
					activeDropdown.classList.remove('visible');
					activeDropdown = null;
					e.target.innerHTML = document
							.getElementById('current-card').innerHTML;
					document.getElementById('current-card').innerHTML = 'Master Card';
				} else if (e.target.innerHTML === 'American Express') {
					document.getElementById('credit-card-image').src = 'https://dl.dropboxusercontent.com/s/f5hyn6u05ktql8d/amex-icon-6902.png';
					activeDropdown.classList.remove('visible');
					activeDropdown = null;
					e.target.innerHTML = document
							.getElementById('current-card').innerHTML;
					document.getElementById('current-card').innerHTML = 'American Express';
				} else if (e.target.innerHTML === 'Visa') {
					document.getElementById('credit-card-image').src = 'https://dl.dropboxusercontent.com/s/ubamyu6mzov5c80/visa_logo%20%281%29.png';
					activeDropdown.classList.remove('visible');
					activeDropdown = null;
					e.target.innerHTML = document
							.getElementById('current-card').innerHTML;
					document.getElementById('current-card').innerHTML = 'Visa';
				}
			} else if (e.target.className !== 'dropdown-btn' && activeDropdown) {
				activeDropdown.classList.remove('visible');
				activeDropdown = null;
			}
		}
	</script>
</body>
</html>